# Лабораторная работа IWNO3: Первый контейнер

## Цель работы 
Работа знакомит с основами контейнеризации, создания Dockerfile-ов, запуска контейнеров и подготавливает рабочее место для выполнения следующих лабораторных работ.

## Задание 
Установить Docker Desktop и проверить его работоспособность. При помощи простого Dockerfile-а создать образ и запустить его в контейнере

## Выполнение
Для начала работы необходимо установить Docker Desktop.

У меня он уже был установлен, но если это необходимо сделать, то скачать его можно по ссылке https://www.docker.com/products/docker-desktop/

Создаём github репозиторий https://github.com/Rengeka/containers02 для работы

Создадим Dockerfile с кодом 

```
FROM debian:latest
COPY ./site/ /var/www/html/
CMD ["sh", "-c", "echo hello from $HOSTNAME"]
```

![Alt text](/images/Снимок%20экрана%202025-02-21%20133750.png "image")

Директива ```FROM debian:latest``` создаст новый образ на основе образа debian, а тег latest указывает, что это будет самый свежий образ

Директива ```COPY ./site/ /var/www/html/``` скопирует содержимое каталога /site в контексте сборки в каталог /var/www/html файловой системы образа

Директива ```CMD ["sh", "-c", "echo hello from $HOSTNAME"]``` задаёт команду, которая будет выполнена при запуске. В данном случае в терминал будет выведено "hello from" и имя хоста

Теперь создадим сам каталог /site в контексте сборки и внётри него создадим index.html файл и добавим произвольное содержимое

```
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Hello</h1>
</body>
</html>
```

Выполним в терминале команду ```docker build -t containers02 .``` для создания контейнера

![Alt text](/images/Снимок%20экрана%202025-02-21%20133729.png "image")

Как мы видим контейнер создался за 24.7 секунд

Далее командой ```docker run --name containers02 containers02``` запустим контейнер

![Alt text](/images/Снимок%20экрана%202025-02-21%20133853.png)

Как мы видим в терминал вывелась та самая строка ```"echo hello from $HOSTNAME"```

Удаляем контейнер и заново его запускаем новый с тем же образом командами

```
docker rm containers02
docker run -ti --name containers02 containers02 bash
```

![Alt text](/images/Снимок%20экрана%202025-02-21%20133921.png)

В открывшемся окне выполним команды 

```
cd /var/www/html/
ls -l
```

![Alt text](/images/Снимок%20экрана%202025-02-24%20184413.png)

Видим, что наш html файл на месте

Выходим командой ```exit```

# Выводы

Мы научились создавать образы и запускать их в контейнерах при помощи Docker и Dockerfile. Познакомились с основными директивами Dockerfile и командами самого Docker

Мы подготовили рабочее место для выполнения следующих лабораторных работ

Запуск приложений в контейнерах намного проще и требует меньшей производительности, чем запуск на виртуальной машине, по тому такой способ в дальнейшем будет более предпочтительным

# Источники

https://docs.docker.com/reference/dockerfile/ - официальная документация по Dockerfile

https://moodle.usm.md/mod/assign/view.php?id=282116 - условия лабораторной работы

https://moodle.usm.md/mod/lesson/view.php?id=282117&pageid=2993 - теория по созданию образов

